# Mattermost Mentions Menu Plugin

Mattermostの「メンション」（@マーク）ボタンを右上から左側メニューのスレッドの下に移動させるためのプラグインです。これにより、最近のメンションを見るためのボタンへのアクセスが容易になります。

## 機能

- メンションボタンを左側のサイドバーメニューに追加
- スレッドの下に配置
- メンション数のカウンターバッジを表示
- クリックすると右側のパネルにメンション一覧を表示

## スクリーンショット

（※実装後にスクリーンショットを追加してください）

## ビルド方法

このプラグインをビルドするには、複数の方法があります：

### Taskを使う方法（推奨）

[Task](https://taskfile.dev/)がインストールされている場合:

```bash
# 依存関係のインストール、ビルド、パッケージ化を一度に行う
task

# または個別のステップを実行
task install    # 依存関係のインストール
task build      # ビルド
task package    # パッケージ化
task clean      # ビルド成果物のクリーン
task dev        # 開発モードで実行（変更監視）
```

### Makeを使う方法

```bash
# 依存関係のインストール、ビルド、パッケージ化を一度に行う
make

# または個別のステップを実行
make install    # 依存関係のインストール
make build      # ビルド
make package    # パッケージ化
make clean      # ビルド成果物のクリーン
make dev        # 開発モードで実行（変更監視）
```

### npmを使う方法

```bash
# 依存関係のインストール、ビルド、パッケージ化を一度に行う
npm run all

# または個別のステップを実行
npm run install:webapp    # 依存関係のインストール
npm run build             # ビルド
npm run package           # パッケージ化
npm run clean             # ビルド成果物のクリーン
npm run dev               # 開発モードで実行（変更監視）
```

### 手動でコマンドを実行する方法

```bash
# 依存関係のインストール
cd webapp
npm install
cd ..

# ビルド
cd webapp
npm run build
cd ..

# パッケージ化
mkdir -p dist
tar -czf dist/mattermost-mentions-menu-plugin.tar.gz plugin.json webapp/dist/main.js
```

## インストール方法

1. 上記のいずれかの方法でプラグインをビルドしパッケージ化します
2. Mattermostの管理コンソールにアクセスします
3. **システムコンソール** > **プラグイン管理** > **プラグインのアップロード** に移動します
4. 生成された `dist/mattermost-mentions-menu-plugin.tar.gz` ファイルをアップロードします
5. **有効化** ボタンをクリックしてプラグインを有効にします

## 開発環境のセットアップ

### 必要条件

- Node.js 14以上
- npm 7以上
- Mattermost Server 5.12.0以上
- （オプション）[Task](https://taskfile.dev/)または`make`コマンド

## トラブルシューティング

一般的な問題と解決方法：

1. **プラグインが表示されない場合**
   - Mattermostを再起動してください
   - ブラウザのキャッシュをクリアしてください
   - プラグインがシステムコンソールで有効になっていることを確認してください

2. **メンションボタンが左サイドバーに表示されない場合**
   - ブラウザのコンソールでエラーを確認してください
   - Mattermostのバージョンが5.12.0以上であることを確認してください

3. **サイドバーのメンションボタンがクリックできない場合**
   - ブラウザを更新してみてください
   - 別のブラウザで試してみてください

## よくある質問（FAQ）

**Q: このプラグインはMattermostのどのバージョンと互換性がありますか？**

A: このプラグインはMattermost v5.12.0以上と互換性があります。

**Q: プラグインを有効にすると、右上のメンションボタンは非表示になりますか？**

A: いいえ、現在の実装では右上のボタンは非表示にならず、左側メニューに追加のボタンが表示されます。将来のアップデートで右上のボタンを非表示にするオプションを追加する予定です。

**Q: このプラグインはモバイルアプリでも機能しますか？**

A: いいえ、このプラグインはウェブアプリケーション専用です。Mattermostのモバイルアプリには影響しません。

**Q: このプラグインはフロントエンドのみですか？**

A: はい、このプラグインはUIの変更のみを行うフロントエンド専用のプラグインです。サーバーサイドのコードは含まれていません。

## ライセンス

このプラグインはMITライセンスの下で配布されています。詳細については、同梱のLICENSEファイルを参照してください。

## コントリビューション

コントリビュートは歓迎します！プルリクエストを送る前に、以下のことをお願いします：

1. 作業する問題について、issueを作成してください
2. 単体テストを追加してください
3. コードスタイルを確認してください
4. プルリクエストでは変更内容を詳細に説明してください

---
